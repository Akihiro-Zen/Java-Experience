/* By @FMarquesPTO. All rights reserved. */
{
  "namespace": "store_content_mcjava",
  
  /* Screen Base */
  
  "store_screen_content_panel": {
    "type": "panel",
    "controls": [
      {
        "store_content_panel@common_mcjava.scroll_screen": {
          "$bottom_content": "store_content_mcjava.bottom_content"
        }
      },
      { "popup_dialog_factory@store_content_mcjava.popup_dialog_factory": {} },
      {
        "filter_menu_panel": {
          "type": "panel",
          "visible": false,
          "controls": [
            { "filter_menu@filter_menu_mcjava.filter_menu_screen_content_panel": {} }
          ],
          "bindings": [
            {
              "binding_name": "#filter_screen_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "sort_menu_panel": {
          "type": "panel",
          "visible": false,
          "controls": [
            { "sort_menu@sort_menu_mcjava.sort_menu_screen_content_panel": {} }
          ],
          "bindings": [
            {
              "binding_name": "#sort_screen_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "exit_background@common.button": {
    "layer": 0,
    "focus_enabled": false,
    "$pressed_button_name": "$close_bg_exit_button_name",
    "controls": [
      { "bg@common_mcjava.screen_background": { "alpha": 0.2 } },
      { "bg@common_mcjava.screen_background": { "alpha": 0.2 } },
      { "bg@common_mcjava.screen_background": { "alpha": 0.2 } }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      }
    ]
  },

  "search_top_content": {
    "type": "panel",
    "controls": [
      { "title@common_mcjava.title": { "offset": [0, 3], "text": "$title_text" } },
      { "search_bar_content_panel@store_content_mcjava.search_bar_content_panel": {} },
      { "status_with_coins@store_content_mcjava.status_with_coins": {} },
      { "error_text_panel@store_content_mcjava.error_text_panel": {} }
    ]
  },

  "search_bar_content_panel": {
    "type": "panel",
    "size": [202, 22],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [0, 18],
    "controls": [
      {
        "search_and_offers_grid_panel": {
          "type": "panel",
          "size": [ "100%", "100%" ],
          "controls": [
            {
              "search_text_box@text_input_mcjava.text_input": {
                "max_length": 50,
                "$text_input_name": "search_text_box",
                "$text_input_enabled_binding_type": "none",
                "$text_input_content_binding_name": "#search_box_text_content",
                "$placeholder_text": "#place_holder_text",
                "$text_input_placeholder_content_binding_name": "#place_holder_text",
                "$text_input_placeholder_binding_condition": "visibility_changed",
                "enabled": true,
                "$text_box_tts_name": "",
                "$focus_override_down": "#search_results_close_focus_id",
                "$focus_override_up": "inventory_button",
                "$focus_override_right": "filter_button",
                "$focus_override_left": "FOCUS_OVERRIDE_STOP"
              }
            }
          ]
        }
      },
      {
        "filter_button@button_mcjava.button": {
          "$pressed_button_name": "button.filter",
          "size": [ 20, 20],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "offset": [24, 0],
          "$focus_id": "filter_button",
          "$filter_logo_anchor": "center",
          "$focus_override_up": "inventory_button",
          "$button_content": "store_content_mcjava.filter_logo_image"
        }
      },
      {
        "sort_button@button_mcjava.button": {
          "$pressed_button_name": "button.sort",
          "size": [ 20, 20],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "offset": [46, 0],
          "$focus_override_up": "inventory_button",
          "$button_content": "store_content_mcjava.sort_button_content_panel"
        }
      },
      { "reset_search_box@store_content_mcjava.reset_search_box": {} }
    ],
    "bindings": [
      {
        "binding_name": "#search_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "filter_logo_image": {
    "type": "image",
    "size": [ 20, 20 ],
    "$filter_logo_offset|default": [ 0, 0 ],
    "offset": "$filter_logo_offset",
    "$filter_logo_anchor|default": "left_middle",
    "anchor_from": "$filter_logo_anchor",
    "anchor_to": "$filter_logo_anchor",
    "texture": "src/assets/img/filter",
    "layer": 10
  },

  "search_logo_image@filter_logo_image": {
    "texture": "src/assets/img/search"
  },

  "home_logo_image@filter_logo_image": {
    "texture": "src/assets/img/home"
  },

  "sort_button_content_panel": {
    "type": "image",
    "size": [ 20, 20],
    "texture": "src/assets/img/sort",
    "layer": 10
  },

  "reset_search_box": {
    "type": "panel",
    "size": [20, 20],
    "visible": false,
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "inherit_max_sibling_height": true,
    "offset": [68, 0],
    "controls": [
      {
        "results_close_button@button_mcjava.button": {
          "size": [ 20, 20 ],
          "focus_enabled": true,
          "$button_text": "X",
          "$pressed_button_name": "button.close_result_panel",
          "bindings": [
            {
              "binding_name": "#seach_results_close_button_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#search_results_panel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "error_text_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "visible": false,
    "$search_label_text": "#search_error_text",
    "controls": [
      /* {
        "top_left_error": {
          "type": "panel",
          "size": [160, 32],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "controls": [
            { "background@toast_screen_content_mcjava.toast_background": {} },
            {
              "error_panel": {
                "type": "panel",
                "size": ["100% - 12px", "100% - 12px"],
                "controls": [
                  {
                    "search_label@search_label": {
                      "$label_anchor": "top_left"
                    }
                  }
                ]
              }
            }
          ]
        }
      }, */
      {
        "search_label@search_label": {
          "$label_anchor": "top_middle",
          "$label_size": [ "default", "default" ],
          "offset": [0, 44]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#search_error_panel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "scrolling_error_panel": {
    "type": "panel",
    "size": [ "100%", 36],
    "visible": false,
    "$search_label_text": "#search_error_text",
    "controls": [
      {
        "search_label@search_label": {
          "$label_anchor": "center",
          "color": "white",
          "$label_size": [ "default", "default" ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#search_error_panel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },
  
  "search_label": {
    "type": "label",
    "$label_size|default": [ "100%", "default" ],
    "size": "$label_size",
    "$search_label_text|default": "#search_label_text",
    "text": "$search_label_text",
    "color": [1.0, 0.7, 0.2],
    "shadow": true,
    "text_alignment": "left",
    "anchor_from": "$label_anchor",
    "anchor_to": "$label_anchor",
    "layer": 3,
    "bindings": [
      {
        "binding_name": "$search_label_text"
      }
    ]
  },

  "bottom_content": {
    "type": "panel",
    "size": [200, 20],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [0, -6],
    "controls": [
      { "back@common_mcjava.exit_button": { "offset": [0, -0.5] } }
    ]
  },

  /* Filter Sort Content */

  "filter_sort_toggle@toggle_mcjava.toggle_button": {
    "$toggle_button_ui": true,
    "size": ["100%", "100%"],
    "$toggle_name": "($filter_sort_prefix + _filter_sort_toggle)",
    "$toggle_state_binding_name": "('#' + $filter_sort_prefix + _toggle_check)",
    "$toggle_binding_type": "global",
    "$toggle_default_state": true,
    "$is_collection|default": false,
    "$control_name|default": "this_toggle",
    "$button_content": "store_content_mcjava.filter_sort_toggle_label",
    "variables": [
      {
        "requires": "$is_collection",
        "$toggle_binding_type": "collection",
        "$content_toggle_label_binding_type": "collection"
      }
    ]
  },

  "filter_sort_toggle_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "layer": 5,
    "$checked_toggle_icon|default": "src/assets/img/checkbox_checked",
    "$checked_hover_toggle_icon|default": "src/assets/img/checkbox_checked_hover",
    "$unchecked_toggle_icon|default": "src/assets/img/checkbox_unchecked",
    "$unchecked_hover_toggle_icon|default": "src/assets/img/checkbox_unchecked_hover",
    "controls": [
      { "filter_sort_toggle_label@store_content_mcjava.filter_sort_toggle_label": {} },
      { "toggle_icon@store_content_mcjava.filter_sort_toggle_icon_panel": {} }
    ]
  },

  "filter_sort_toggle_icon_panel": {
    "type": "panel",
    "size": "$filter_sort_toggle_icon_panel_size",
    "$filter_sort_toggle_icon_panel_size|default": [ 20, 20 ],
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "offset": [-6, 0],
    "controls": [
      {
        "icon": {
          "type": "image",
          "size": "$filter_sort_toggle_icon_size",
          "$filter_sort_toggle_icon_size|default": [ 20, 20 ],
          "layer": 12,
          "texture": "$content_toggle_icon",
          "variables": [
            {
              "requires": "$checked_state",
              "$content_toggle_icon": "$checked_toggle_icon"
            },
            {
              "requires": "$checked_hover_state",
              "$content_toggle_icon": "$checked_hover_toggle_icon"
            },
            {
              "requires": "$unchecked_state",
              "$content_toggle_icon": "$unchecked_toggle_icon"
            },
            {
              "requires": "$unchecked_hover_state",
              "$content_toggle_icon": "$unchecked_hover_toggle_icon"
            },
            {
              "requires": "($checked_locked_state or $checked_locked_hover_state or $unchecked_locked_hover_state or $unchecked_locked_state)",
              "$content_toggle_icon": "src/assets/img/none"
            }
          ]
        }
      }
    ]
  },

  "filter_sort_toggle_label": {
    "type": "panel",
    "size": ["100%", "100%"],
    "controls": [
      {
        "toggle_label": {
          "type": "label",
          "text": "$content_toggle_label",
          "size": [ "default", "default" ],
          "color": "$text_color",
          "shadow": true,
          "text_alignment": "left",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "offset": [4, 0],
          "layer": 10,
          "$content_toggle_label|default": "#content_toggle_label",
          "$content_toggle_label_binding_type|default": "none",
          "$content_toggle_label_binding_condition|default": "none",
          "bindings": [
            {
              "binding_type": "$content_toggle_label_binding_type",
              "binding_condition": "$content_toggle_label_binding_condition",
              "binding_collection_name": "$toggle_grid_collection_name",
              "binding_name": "$content_toggle_label"
            }
          ]
        }
      }
    ]
  },

  "filter_sort_grid_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$filter_sort_collection_name": "($filter_sort_prefix + '_collection')",
    "$filter_sort_dimension_binding": "('#' + $filter_sort_collection_name + _grid_dimensions)",
    "controls": [
      {
        "filter_sort_grid": {
          "type": "grid",
          "$filter_sort_grid_size|default": [ "100%", "default" ],
          "size": "$filter_sort_grid_size",
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "grid_item_template": "$filter_sort_grid_item",
          "grid_dimension_binding": "$filter_sort_dimension_binding",
          "collection_name": "$filter_sort_collection_name",
          "$toggle_grid_collection_name": "$filter_sort_collection_name",
          "$is_collection": true,
          "bindings": [
            {
              "binding_name": "$filter_sort_dimension_binding"
            }
          ]
        }
      }
    ]
  },

  /* Player and Coins */

  "status_with_coins": {
    "type": "panel",
    "size": [ "100% - 34px", 20 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [0, 6],
    "$top_status_and_coins_visible_binding_type|default": "none",
    "$top_status_and_coins_visible_binding|default": "",
    "bindings": [
      {
        "binding_type": "$top_status_and_coins_visible_binding_type",
        "binding_name": "$top_status_and_coins_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "inventory_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "layer": 2,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "controls": [
            {
              "inventory_button@store_content_mcjava.inventory_panel": {
              }
            }
          ]
        }
      },
      {
        "coin_balance_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "controls": [
            {
              "coin_balance_panel@store_content_mcjava.purchase_coins_panel": {
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "home_button@button_mcjava.button": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ 20, 20],
          "offset": [0, 24],
          "layer": 3,
          "visible": "(not $ignore_home)",
          "$ignore_home|default": false,
          "ignored": "($is_on_3p_server or $ignore_home_button)",
          "$pressed_button_name": "button.store_home",
          "$button_content": "store_content_mcjava.home_logo_image"
        }
      },
      {
        "store_layout_ribbon_search_button@button_mcjava.button": {
          "size": [20, 20],
          "$focus_id": "skin_pack_category_button",
          "offset": [0, 24],
          "visible": "(not $ignore_search)",
          "$ignore_search|default": true,
          "$focus_override_up": "feature_key_art_id",
          "$focus_override_right": "FOCUS_OVERRIDE_STOP",
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "$default_size": [20, 20],
          "$hover_size": [200, 20],
          "$button_content": "store_content_mcjava.search_logo_image",
          "$image_texture_path": "textures/ui/spyglass_flat",
          "variables": [
            {
              "requires": "($is_search_screen or $is_on_3p_server)",
              "$pressed_button_name": ""
            },
            {
              "requires": "(not $is_search_screen and not $is_on_3p_server)",
              "$pressed_button_name": "button.search"
            },
            {
              "requires": "($is_search_screen and not $is_on_3p_server)",
              "$pressed_button_name": "button.close_result_panel"
            }
          ]
        }
      }
    ]
  },

  "xbl_status_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", 20 ],
    "controls": [
      {
        "player_profile": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            { "status_panel@store_content_mcjava.xbl_player_status_panel": {} }
          ],
          "bindings": [
            {
              "binding_name": "#show_xbl_profile_info",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "no_player_profile": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            { "status_panel@store_content_mcjava.no_xbl_player_status_panel": {} }
          ],
          "bindings": [
            {
              "binding_name": "(not #show_xbl_profile_info)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "no_xbl_and_content_owned_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            { "status_panel@store_content_mcjava.content_owned_no_xbl_panel": {} }
          ],
          "bindings": [
            {
              "binding_name": "(not #show_xbl_profile_info)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "xbl_player_status_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "controls": [
      {
        "gamer_pic_with_bevel": {
          "type": "panel",
          "size": [ 20, 20 ],
          "layer": 5,
          "controls": [
            {
              "player_pic": {
                "type": "image",
                "size": [ 20, 20 ],
                "bindings": [
                  {
                    "binding_name": "#gamer_pic_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_name": "#gamer_pic_file_source",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            },
            {
              "player_pic_bevel": {
                "type": "image",
                "size": [ 20, 20 ],
                "layer": 4,
                "$icon_bevel_hoverstate_texture_swap|default": "",
                "variables": [
                  {
                    "requires": "$default_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel"
                  },
                  {
                    "requires": "$hover_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  },
                  {
                    "requires": "$pressed_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  },
                  {
                    "requires": "$locked_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  }
                ],
                "texture": "$icon_bevel_hoverstate_texture_swap"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(not #update_icon_visible)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "updates_with_bevel": {
          "type": "panel",
          "size": [ 20, 20 ],
          "controls": [
            {
              "update_glyph@common_store.bang_icon": {
                "layer": 5
              }
            },
            {
              "updates_bevel": {
                "type": "image",
                "size": [ 20, 20 ],
                "layer": 4,
                "$icon_bevel_hoverstate_texture_swap|default": "",
                "variables": [
                  {
                    "requires": "$default_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel"
                  },
                  {
                    "requires": "$hover_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_hover"
                  },
                  {
                    "requires": "$pressed_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_pressed"
                  },
                  {
                    "requires": "$locked_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_pressed"
                  }
                ],
                "texture": "$icon_bevel_hoverstate_texture_swap"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(#update_icon_visible)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },

      {
        "label_alignment_pannel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "label_panel": {
                "type": "image",
                "texture": "$coin_bg",
                "$coin_bg": "src/assets/img/box",
                "variables": [
                  {
                    "requires": "($hover_state or $pressed_state)",
                    "$coin_bg": "src/assets/img/boxhover"
                  }
                ],
                "size": ["100%c + 5px", "100%"],
                "nineslice_size": 2.0,
                "offset": [-1, 0], // To line up with the coin balance text
                "controls": [
                  {
                    "gamertag_label": {
                      "type": "label",
                      "text_alignment": "right",
                      "text": "#gamertagpacks",
                      "font_type": "default",
                      "offset": [1, 0],
                      "color": "$body_text_color",
                      "layer": 2,
                      "bindings": [
                        {
                          "binding_name": "#gamertagpacks"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "style_header": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", 12],
    "visible": false,
    "ignored": "$is_realms_plus_screen",
    // row binding vars
    "$store_row_binding_type|default": "global",
    "$store_row_collection_details|default": "none",
    "$store_row_collection_prefix|default": "",
    "$store_row_collection_name|default": "",

    // factory binding vars (for when created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "controls": [
      {
        "row_header": {
          "type": "panel",
          "size": [ "100%", 12],

          "$store_section_collection_name": "$store_row_collection_name",
          "$store_section_binding_type": "$store_row_binding_type",

          "controls": [
            {
              "label_panel": {
                "type": "panel",
                "size": [ "100%", 12],
                "visible": false,
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$store_row_binding_type",
                    "binding_collection_name": "$store_row_collection_name",
                    "binding_name": "#store_row_ready",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "row_header_label@common_store.store_section_header_label": {
                      "size": [ "default", 10 ],
                      "$row_header_offset|default": [0, 0],
                      "offset": "$row_header_offset",
                      "$store_section_header_visible_binding": "#hide_banner",
                      "$store_section_header_text_color": "$main_header_text_color",
                      "anchor_from": "center",
                      "anchor_to": "center"
                    }
                  },
                  {
                    "time_remaining_label@common_store.label": {
                      "anchor_from": "bottom_right",
                      "anchor_to": "bottom_right",
                      "size": [ "default", 10 ],
                      "offset": [ -3, 1 ],
                      "text": "#time_remaining_label",
                      "text_alignment": "right",
                      "layer": 3,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$store_row_binding_type",
                          "binding_collection_name": "$store_row_collection_name",
                          "binding_name": "#time_remaining_label",
                          "binding_condition": "always"
                        },
                        {
                          "binding_type": "$store_row_binding_type",
                          "binding_collection_name": "$store_row_collection_name",
                          "binding_name": "#show_timer",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "row_carousel_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_row_binding_type",
        "binding_collection_name": "$store_row_collection_name",
        "binding_name": "#header_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "no_xbl_player_status_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "bindings": [
      {
        "binding_name": "(not #has_local_content)",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "user_image_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "user_image@common_buttons.new_ui_button_panel": {
                "$button_size_override": [ 20, 20 ],
                "$button_content": "common_store.user_icon_small",
                "$border_visible": false
              }
            }
          ]
        }
      },
      {
        "no_xbl_player_status_label_alignment_pannel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "label_panel": {
                "type": "image",
                "texture": "$coin_bg",
                "$coin_bg": "src/assets/img/box",
                "variables": [
                  {
                    "requires": "($hover_state or $pressed_state)",
                    "$coin_bg": "src/assets/img/boxhover"
                  }
                ],
                "nineslice_size": 2.0,
                "size": ["100%c + 5px", "100%"],
                "offset": [-1, 0], // To line up with the coin balance text
                "controls": [
                  {
                    "gamertag_label": {
                      "type": "label",
                      "text_alignment": "right",
                      "size": [ "default", "default" ],
                      "font_type": "default",
                      "offset": [1, 0],
                      "text": "store.inventory.no.xbl",
                      "color": "$body_text_color",
                      "layer": 2
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "content_owned_no_xbl_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "bindings": [
      {
        "binding_name": "(#has_local_content)",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "no_xbl_content_owned_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "warning_with_bevel": {
                "type": "panel",
                "size": [ 18, 18 ],
                "controls": [
                  {
                    "warning_glyph@common_store.bang_icon": {
                      "layer": 5
                    }
                  },
                  {
                    "warning_bevel": {
                      "type": "image",
                      "size": [ 18, 18 ],
                      "layer": 4,
                      "$icon_bevel_hoverstate_texture_swap|default": "",
                      "variables": [
                        {
                          "requires": "$default_state",
                          "$icon_bevel_hoverstate_texture_swap": "textures/ui/unsynced_bevel"
                        },
                        {
                          "requires": "$hover_state",
                          "$icon_bevel_hoverstate_texture_swap": "textures/ui/unsynced_bevel_hover"
                        },
                        {
                          "requires": "$pressed_state",
                          "$icon_bevel_hoverstate_texture_swap": "textures/ui/unsynced_bevel_pressed"
                        },
                        {
                          "requires": "$locked_state",
                          "$icon_bevel_hoverstate_texture_swap": "textures/ui/unsynced_bevel_pressed"
                        }
                      ],
                      "texture": "$icon_bevel_hoverstate_texture_swap"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "no_xbl_content_owned_label_alignment_pannel": {
          "type": "panel",
          "size": [ "100%c", "100% -4px" ],
          "controls": [
            {
              "label_panel": {
                "type": "image",
                "texture": "$coin_bg",
                "$coin_bg": "src/assets/img/box",
                "nineslice_size": 2.0,
                "variables": [
                  {
                    "requires": "($hover_state or $pressed_state)",
                    "$coin_bg": "src/assets/img/boxhover"
                  }
                ],
                "size": ["100%c + 5px", "100%"],
                "offset": [-1, 0], // To line up with the coin balance text
                "controls": [
                  {
                    "gamertag_label": {
                      "type": "label",
                      "font_type": "default",
                      "text_alignment": "right",
                      "size": [ "default", "default" ],
                      "offset": [1, 0],
                      "text": "store.inventory.no.xbl",
                      "color": "$body_text_color",
                      "layer": 2
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "inventory_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "$add_coin_not_visible|default": false,
    "controls": [
      {
        "inventory_button@button_mcjava.button": {
          "size": [ "100%c", 20 ],
          "layer": 3,
          "$button_type": "store_content_mcjava.xbl_status_panel",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$is_inventory_screen|default": false,
          "$focus_id": "inventory_button",
          "variables": [
            {
              "requires": "($is_inventory_screen or $is_on_3p_server)",
              "$pressed_button_name": ""
            },
            {
              "requires": "(not $is_inventory_screen and not $is_on_3p_server)",
              "$pressed_button_name": "button.my_account"
            }
          ]
        }
      }
    ]
  },

  "purchase_coins_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "$add_coin_not_visible|default": false,
    "$purchase_button_offset|default": [ 0, 0 ],
    "offset": "$purchase_button_offset",
    "controls": [
      {
        "plus_button@button_mcjava.button": {
          "size": [75, 18],
          "layer": 3,
          "ignored": "$add_coin_not_visible",
          "$button_type": "store_content_mcjava.wallet_button_panel",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.coin_wallet",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "button.coin_wallet",
              "mapping_type": "focused"
            }
          ]
        }
      }
    ]
  },

  "wallet_button_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "layer": 2,
    "size": [ "100%c", 20],
    "controls": [
      {
        "purchase_coin_panel_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", 20],
          "controls": [
            {
              "purchase_coin_panel@store_content_mcjava.coin_balance_panel": {
                "size": [55, 20 ],
                "offset": [ 1, 0 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ]
        }
      },
      {
        "plus_image@button_mcjava.button_state_panel": {
          "size": [20, 20],
          "$button_content": "button_mcjava.button_label",
          "$button_background": "button_mcjava.resizing_button_background_panel",
          "$img_src|default": "button_mcjava.button_default",
          "variables": [
            {
              "requires": "($hover_state or $pressed_state)",
              "$img_src": "button_mcjava.button_hover"
            }
          ],
          "$button_text": "+",
          "$wallet_plus_image_bindings|default": [
            {
              "binding_name": "(not #gamepad_helper_visible)",
              "binding_name_override": "#visible"
            }
          ],
          "bindings": "$wallet_plus_image_bindings"
        }
      },
      {
        "gamepad_helper_x_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "gamepad_helper_x@common.gamepad_helper_x": {
                "$hide_description|default": true,
                "offset": [ 4, -5 ],
                "$wallet_gamepad_helper_bindings|default": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ],
                "bindings": "$wallet_gamepad_helper_bindings"
              }
            }
          ]
        }
      }
    ]
  },

  "coin_balance_panel": {
    "type": "image",
    "texture": "$coin_bg",
    "$coin_bg": "src/assets/img/box",
    "variables": [
      {
        "requires": "($hover_state or $pressed_state)",
        "$coin_bg": "src/assets/img/boxhover"
      }
    ],
    "nineslice_size": 2,
    "size": [58, 20],
    "controls": [
      {
        "coin_icon@common_store.coin_icon": {
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$coin_icon_offset|default": [ 3, 0 ],
          "offset": "$coin_icon_offset",
          "layer": 3
        }
      },
      { "space@common_mcjava.vspace": { "size": [1, 0] } },
      {
        "coin_balance_text": {
          "type": "label",
          "font_type": "default",
          "layer": 4,
          "size": [ "default", 20],
          "offset": [ 15, 5 ],
          "text": "#coin_balance",
          "shadow": true,
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "text_alignment": "left",
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "#coin_balance",
              "binding_condition": "always_when_visible"
            },
            {
              "binding_name": "(not #coin_purchase_in_progress)",
              "binding_name_override": "#visible"
            }
          ],
          "color": [1, 1, 1]
        }
      }
    ]
  }
}