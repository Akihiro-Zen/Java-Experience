/* By @FMarquesPTO. All rights reserved. */
{
  "namespace": "achievements_mcjava",

  "achievements_screen_content_panel": {
    "type": "panel",
    "controls": [
      { "achievements_content_panel@achievements_mcjava.achievements_content_panel": {} }
    ]
  },

  "achievements_content_panel": {
    "type": "panel",
    "size": [252, 140],
    "controls": [
      { "finder_bg@achievements_mcjava.achievements_bg": {} },
      { "finder_bg@achievements_mcjava.top_tab_navigation_panel": {} },
      { "finder_bg@achievements_mcjava.tabs_content_panel": {} }
    ]
  },

  "top_tab_navigation_panel": {
    "type": "stack_panel",
    "size": ["100%", 32],
    "orientation": "horizontal",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [0, -28],
    "controls": [
      { "player@achievements_mcjava.player_tab": {} },
      { "space_zero@common_mcjava.hspace": { "size": [4, 0] } },
      { "achievements@achievements_mcjava.achievements_tab": {} },
      { "space_two@common_mcjava.hfill": {} }
    ]
  },

  "tabs_content_panel": {
    "type": "panel",
    "controls": [
      { "player@achievements_mcjava.player_content": {} },
      { "achievements@achievements_mcjava.achievements_content": {} }
    ]
  },

  /* Content */

  /* Images */

  "achievements_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/window",
    "size": ["100%", "100%"],
    "uv": [0, 0],
    "uv_size": [252, 140],
    "layer": -10
  },

  "nether_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/backgrounds/nether",
    "layer": -20,
    "tiled_scale": [2, 2],
    "tiled": true
  },

  "adventure_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/backgrounds/adventure",
    "layer": -20,
    "tiled_scale": [2, 2],
    "tiled": true
  },

  "the_end_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/backgrounds/end",
    "layer": -20,
    "tiled_scale": [2, 2],
    "tiled": true
  },

  "husbandry_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/backgrounds/husbandry",
    "layer": -20,
    "tiled_scale": [2, 2],
    "tiled": true
  },

  "minecraft_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/backgrounds/stone",
    "layer": -20,
    "tiled_scale": [2, 2],
    "tiled": true
  },

  "top_most_tab_checked@common_mcjava.image": {
    "variables": [
      { "requires": "($creative_inventory_resolution = 256x)", "$0": [0, 32] },
      { "requires": "($creative_inventory_resolution = 512x)", "$0": [0, 64] },
      { "requires": "($creative_inventory_resolution = 1024x)", "$0": [0, 128] },
      { "requires": "($creative_inventory_resolution = 2048x)", "$0": [0, 256] },
      { "requires": "($creative_inventory_resolution = 4096x)", "$0": [0, 512] }
    ]
  },

  "top_most_tab_unchecked@common_mcjava.image": {
    "uv": [0, 0]
  },

  "tab_checked@common_mcjava.image": {
    "variables": [
      { "requires": "($creative_inventory_resolution = 256x)", "$0": [28, 32] },
      { "requires": "($creative_inventory_resolution = 512x)", "$0": [56, 64] },
      { "requires": "($creative_inventory_resolution = 1024x)", "$0": [112, 128] },
      { "requires": "($creative_inventory_resolution = 2048x)", "$0": [224, 256] },
      { "requires": "($creative_inventory_resolution = 4096x)", "$0": [448, 512] }
    ]
  },

  "tab_unchecked@common_mcjava.image": {
    "variables": [
      { "requires": "($creative_inventory_resolution = 256x)", "$0": [28, 0] },
      { "requires": "($creative_inventory_resolution = 512x)", "$0": [56, 0] },
      { "requires": "($creative_inventory_resolution = 1024x)", "$0": [112, 0] },
      { "requires": "($creative_inventory_resolution = 2048x)", "$0": [224, 0] },
      { "requires": "($creative_inventory_resolution = 4096x)", "$0": [448, 0] }
    ]
  },

  /* Tabs */

  "achievement_tab@tab_mcjava.tab": {
    "$toggle_name": "achievements_tabs",
    "$toggle_focus_enabled": true,
    "$radio_toggle_group": true,
    "$show_hover_text": true,
    "anchor_from": "top_left",
    "$tab_content": "creative_inventory_content_mcjava.item_renderer",
    "anchor_to": "top_left",
    "size": [28, 32],
    "$texture_src": "assets/minecraft/textures/gui/advancements/tabs",
    "$bg_checked_src": "achievements_mcjava.tab_checked",
    "$bg_unchecked_src": "achievements_mcjava.tab_unchecked",
    "variables": [
      { "requires": "($creative_inventory_resolution = 256x)", "$1": [28, 32] },
      { "requires": "($creative_inventory_resolution = 512x)", "$1": [56, 64] },
      { "requires": "($creative_inventory_resolution = 1024x)","$1": [112, 128] },
      { "requires": "($creative_inventory_resolution = 2048x)", "$1": [224, 256] },
      { "requires": "($creative_inventory_resolution = 4096x)", "$1": [448, 512] }
    ],
    "$enable_directional_toggling": true
    /* "$button_mappings|default": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.menu_tab_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.menu_tab_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_ok",
        "mapping_type": "focused"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_left",
        "to_button_id": "$toggle_off_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad_and_not_gaze"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_right",
        "to_button_id": "$toggle_on_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad_and_not_gaze"
      }
    ] */
  },

  "player_tab@achievements_mcjava.achievement_tab": {
    "$bg_checked_src": "achievements_mcjava.top_most_tab_checked",
    "$bg_unchecked_src": "achievements_mcjava.top_most_tab_unchecked",
    "$toggle_index": 0,
    "$control_name": "player_view",
    "$hover_text": "Player"
  },

  "achievements_tab@achievements_mcjava.achievement_tab": {
    "$toggle_index": 1,
    "$control_name": "achievements_view",
    "$hover_text": "Achievements"
  },

  /* Tabs Content */

  "tab_content_panel": {
    "type": "panel",
    "size": ["100%", "100%"],
    "controls": [
      { "title@new_creative_inventory_content_mcjava.tab_title": { "text": "Achievements" } },
      { "$bg@$bg": {} },
      {
        "scrolling_panel@scrolling_mcjava.scrolling_panel": {
          "size": ["100%", "100%" ],
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "$scroll_bar_offset": [ 120, 0 ],
          "$scroll_clip_path": true
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "($source_name + '_view')",
        "source_property_name": "#toggle_state",
        "target_property_name": "#visible"
      }
    ]
  },

  "player_content@achievements_mcjava.tab_content_panel": {
    "$source_name": "player_view",
    "$bg": "achievements_mcjava.adventure_bg"
  },

  "achievements_content@achievements_mcjava.tab_content_panel": {
    "$source_name": "achievements_view",
    "$bg": "achievements_mcjava.minecraft_bg",
    "$scrolling_content": "achievements_mcjava.achievements_grid"
  },

  /* Tabs */
  
  /* "achievements_grid": {
    "type": "stack_panel",
    "controls": [
      { "@achievement.achievement_grid_item": { "collection_index": 1 } },
      { "@achievement.achievement_grid_item": { "collection_index": 1 } },
      { "@achievement.achievement_grid_item": { "collection_index": 2 } },
      { "@achievement.achievement_grid_item": { "collection_index": 3 } },
      { "@achievement.achievement_grid_item": { "collection_index": 4 } }
    ],
    "collection_name": "achievement_list"
  }, */

  "achievements_grid": {
    "type": "stack_panel",
    "size": [252, "100%c"],
    "controls": [
      {
        "achievements_grid": {
          "type": "grid",
          "$grid_size|default": [ "100%", 54 ],
          "size": ["100%", "default"],
          "layer": 1,
          "grid_item_template": "achievement_mcjava.achievement_grid_item",
          "collection_name": "achievement_list",
          "grid_dimension_binding": "#achievement_grid_dimension",
          "bindings": [
            {
              "binding_name": "#achievement_grid_dimension",
              "binding_type": "global"
            }
          ]
        }
      }
    ]
  },

  "achievement_grid_item@achievement.achievement_grid_item": {
/*     "type": "panel", */
    "size": ["25%", 26]
   /*  "controls": [
      {
        "ach_grid@focus_border_button": {
          "size": [ 24, 24],
          "anchor_from": "top_left",
          "anchor_to": "top_left"
        }
      }
    ] */
  },

  "item_bg": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/advancements/widgets",
    "uv": [1, 155],
    "uv_size": [24, 24],
    "size": [24, 24],
    "controls": [
      {
        "achievement_icon": {
          "type": "image",
          "size": [24, 24],
          "fill": true,
          "layer": 20,
          "bindings": [
            {
              "binding_name": "#texture_name",
              "binding_name_override": "#texture",
              "binding_type": "collection",
              "binding_collection_name": "achievement_list"
            },
            {
              "binding_name": "#grayscale_texture",
              "binding_name_override": "#grayscale",
              "binding_type": "collection",
              "binding_collection_name": "achievement_list"
            },
            {
              "binding_name": "#texture_locationtype",
              "binding_name_override": "#texture_file_system",
              "binding_type": "collection",
              "binding_collection_name": "achievement_list"
            }
          ]
        }
      }
    ]
  },

  "achievement_data_unlocked": {
    "type": "panel",
    "visible": "#is_unlocked",
    "bindings": [
      {
        "binding_name": "#is_unlocked",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "achievement_list"
      }
    ],
    "controls": [
      {
        "ach_data_layout@achievement_data_layout": { }
      }
    ]
  },

  "achievement_data_locked": {
    "type": "panel",
    "visible": "#is_locked",
    "bindings": [
      {
        "binding_name": "#is_locked",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "achievement_list"
      }
    ],
    "controls": [
      {
        "ach_data_layout@achievement_data_layout": { }
      }
    ]
  },

  "achievement_data_layout": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 6px", "100% - 4px" ],
    "anchor_from": "center",
    "anchor_to": "center",
    "layer": 1,
    "$ach_score_offset|default": [ "-2px", "1px" ],
    "variables": [
      {
        "requires": "$desktop_screen",
        "$ach_score_offset": [ "-2px", "1px" ]
      },
      {
        "requires": "$pocket_edition",
        "$ach_score_offset": [ "-2px", "7px" ]
      }
    ],
    "controls": [
      {
        "achiev_icon": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "achiev_icon@achievement.achievement_icon": {
                "size": [ "177.778%y", "100% - 2px" ],
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "achiev_desc": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "text_content": {
                "type": "stack_panel",
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "orientation": "vertical",
                "size": [ "100% - 28px", "100%-5px" ],
                "offset": [ 1, 0 ],
                "controls": [
                  {
                    "achiev_title@achievement.achievement_title_switch": {
                      "size": [ "100%", 12 ],
                      "layer": 3
                    }
                  },
                  {
                    "achiev_desc@achievement.achievement_desc": {
                      "size": [ "100%", "fill" ],
                      "layer": 2
                    }
                  }
                ]
              }
            },
            {
              "achiev_score@achievement.achievement_score_panel": {
                "offset": "$ach_score_offset"
              }
            },
            {
              "achiev_progress@achievement.progress_bar_icon": {
                "size": [ "100%", 5 ],
                "layer": 5
              }
            }
          ]
        }
      }
    ]
  },

  "item_bg_panel": {
    "type": "panel",
    "size": ["100%", "100%"],
    "controls": [
      { "@achievement_data_unlocked": {} },
      { "@achievement_data_locked": {} }
    ]
  },

  "focus_border_button@common.button": {
    "size": [24, 24 ],
    "sound_volume": 0.0,
    "$pressed_button_name": "button.achievement_focus_filler",
    "controls": [
      { "default@achievements_mcjava.item_bg": {} },
      { "hover@achievements_mcjava.item_bg_panel": {} },
      { "pressed@achievements_mcjava.item_bg_panel": {} }
    ]
  },

  "achievement_grid_ite": {
    "type": "panel",
    "layer": 1,
    "size": [ "100%", 26 ],
    "controls": [
      {
        "keymapping_item": {
          "type": "panel",
          "layer": 1,
          "size": [ "100%", 26 ],
          "offset": [0, 13],
          "controls": [
            { "@achievement_grid_item": {} }
          ]
        }
      }
    ]
  },

  "stack": {
    "type": "stack_panel",
    "layer": 1,
    "size": [ "100%", "100%c" ]
  },

  "row": {
    "type": "stack_panel",
    "layer": 1,
    "size": [ "100%", 26],
    "orientation": "horizontal",
    "controls": [
      { "@items_grid_item": { "$item_index": "$index_one" } },
      { "@items_grid_item": { "$item_index": "$index_two" } },
      { "@items_grid_item": { "$item_index": "$index_three" } },
      { "@items_grid_item": { "$item_index": "$index_four" } },
      { "@items_grid_item": { "$item_index": "$index_five" } },
      { "@items_grid_item": { "$item_index": "$index_six" } },
      { "@items_grid_item": { "$item_index": "$index_seven" } },
      { "@items_grid_item": { "$item_index": "$index_eight" } },
      { "@items_grid_item": { "$item_index": "$index_nine" } }
    ]
  }
}