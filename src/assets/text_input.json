/* By @FMarquesPTO. All rights reserved. */
{
  "namespace": "text_input_mcjava",

  "base_text_input@common_mcjava.text_input": {
    "size": [202, 22],
    /* These states are for passing the button state to the button content */
    "$default_state|default": false,
    "$hover_state|default": false,
    "$pressed_state|default": false,
    "$disabled_state|default": false,
    "$input_state|default": "",
    /* Content */
    "$input_type|default": "text_input_mcjava.text_input_state_panel", 
    "$input_content|default": "text_input_mcjava.input_text_panel", 
    "$bg_default_src|default": "text_input_mcjava.indentbox_bg",
    "$bg_hover_src|default": "text_input_mcjava.indentbox_hover_bg",
    "$bg_pressed_src|default": "text_input_mcjava.indentbox_hover_bg",
    "$bg_disabled_src|default": "text_input_mcjava.indentbox_bg",
    "controls": [
      {
        "default@$input_type": {
          "$img_src": "$bg_default_src",
          "$input_state": "default",
          "$default_state": true,
          "layer": 2
        }
      },
      {
        "hover@$input_type": {
          "$img_src": "$bg_hover_src",
          "$input_state": "hover",
          "$hover_state": true,
          "layer": 3
        }
      },
      {
        "pressed@$input_type": {
          "$img_src": "$bg_pressed_src",
          "$input_state": "pressed",
          "$pressed_state": true,
          "layer": 3
        }
      },
      {
        "locked@$input_type": {
          "$img_src": "$bg_disabled_src",
          "$input_state": "disabled",
          "$disabled_state": true,
          "layer": 1
        }
      },
      { "$input_content@$input_content": {} }
    ]
  },

  "base_text_input_with_label": {
    "type": "panel",
    "size": [202, 35],
    "$input_box_size|default": ["100%", 22],
    "$text_max_length|default": 30,
    "$input_label_offset|default": [1, 0],
    "controls": [
      { "input_label@text_input_mcjava.input_label": {} },
      {
        "base@text_input_mcjava.base_text_input": {
          "size": "$input_box_size",
          "offset": "$input_box_offset",
          "max_length": "$text_max_length",
          "$text_input_content_binding_name": "$input_binding_name",
          "$text_input_binding_collection_name": "$input_binding_name",
          "$text_input_binding_type": "global",
          "$text_input_enabled_binding_name": "$input_enabled_binding_name",
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "$text_box_tts_header": "$input_label",
          "$text_box_tts_name": "",
          "$tts_override_control_value|default": " ",
          "tts_override_control_value": "$tts_override_control_value",
          "variables": [
            {
              "requires": "(not $input_enabled_binding_name)",
              "$text_box_enabled_binding_name": "#not_data_bound",
              "$text_edit_box_enabled_binding_type": "none"
            }
          ]
        }
      },
      { "$button@$button": {} }
    ]
  },

  "base_text_inputview_with_label": {
    "type": "panel",
    "size": ["100%", 10],
    "$text_input_text_control|default": "display_text",
    "$text_input_visible_binding_name|default": "#text_edit_box_visible",
    "$text_input_visible_binding_collection_name|default": "",
    "$text_input_visible_binding_type|default": "none",
    "$text_input_text_type|default": "ExtendedASCII",
    "$text_input_enabled_binding_type|default": "global",
    "$text_input_grid_collection_name|default": "",
    "$deselectable_binding_type|default": "none",
    "$deselectable_binding_name|default": "#can_be_deselected",
    "$text_input_focusable_binding_name|default": "#text_edit_box_focusable",
    "$text_input_content_binding_name": "$input_binding_name",
    "$text_input_binding_collection_name": "$input_binding_name",
    "$text_input_binding_type": "global",
    "$text_input_enabled_binding_name": "$input_enabled_binding_name",
    "variables": [
      {
        "requires": "(not $input_enabled_binding_name)",
        "$text_input_enabled_binding_name": "#not_data_bound",
        "$text_input_enabled_binding_type": "none"
      }
    ],
    "bindings": [
      {
        "binding_type": "$text_input_enabled_binding_type",
        "binding_collection_name": "$text_input_grid_collection_name",
        "binding_name": "$text_input_enabled_binding_name",
        "binding_name_override": "#enabled"
      },
      {
        "binding_type": "$deselectable_binding_type",
        "binding_name": "$deselectable_binding_name",
        "binding_name_override": "#can_be_deselected"
      },
      {
        "binding_type": "none",
        "binding_name": "$text_input_focusable_binding_name",
        "binding_name_override": "#focus_enabled"
      },
      {
        "binding_name": "$text_input_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_type": "$text_input_visible_binding_type",
        "binding_collection_name": "$text_input_visible_binding_collection_name"
      }
    ],
    "$input_content|default": "text_input_mcjava.inputview_text_panel", 
    "controls": [
      { "$input_content@$input_content": {} }
    ]
  },

  /* Images */

  "indentbox_bg": {
    "type": "image",
    "texture": "src/assets/img/indentbox",
    "size": ["100%", "100%"]
  },

  "indentbox_hover_bg": {
    "type": "image",
    "texture": "src/assets/img/indentboxhover",
    "size": ["100%", "100%"]
  },

  /* Input Content */

  "text_input_state_panel": {
    "type": "panel",
    "controls": [
      { "$img_src@$img_src": {} }/* ,
      {
        "content": {
          "type": "panel",
          "size": "$input_content_size",
          "$input_content_size|default": ["100%", "100%"],
          "layer": 13,
          "controls": [
            { "$input_content@$input_content": {} }
          ]
        }
      } */
    ]
  },

  "input_text_panel": {
    "type": "panel",
    "size": ["100% - 6px", "100% - 2px"],
    "controls": [
      {
        "text_panel": {
          "type": "panel",
          "size": "$text_input_clipping_panel_size",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "offset": "$text_offset",
          "clips_children": true,
          "$placeholder_control": "text_input_mcjava.input_placeholder_label",
          "$text_input_clipping_panel_size|default": [ "100%", "100%" ],
          "$text_input_label_size|default": [ "default", "default" ],
          "$text_input_label_anchor_point|default": "right_middle",
          "$text_input_label_min_size|default": [ "100%", 0 ],
          "$text_input_label_offset|default": [ 0, 0 ],
          "$text_offset|default": [ 0, 0 ],
          "controls": [
            { "$text_input_text_control@text_input_mcjava.input_text": {} },
            {
              "visibility_panel": {
                "type": "panel",
                "controls": [
                  { "place_holder_control@$placeholder_control": {} }
                ],
                "bindings": [
                  {
                    "binding_type": "view",
                    "source_control_name": "$text_input_text_control",
                    "source_property_name": "(#item_name = '')",
                    "target_property_name": "#visible",
                    "resolve_sibling_scope": true
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "inputview_text_panel": {
    "type": "panel",
    "size": ["100% - 6px", "100% - 2px"],
    "controls": [
      {
        "text_panel": {
          "type": "panel",
          "size": "$text_input_clipping_panel_size",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "offset": "$text_offset",
          "clips_children": false,
          "$placeholder_control": "text_input_mcjava.input_placeholder_label",
          "$text_input_clipping_panel_size|default": [ "100%", "100%" ],
          "$text_input_label_size|default": [ "default", "default" ],
          "$text_input_label_anchor_point|default": "right_middle",
          "$text_input_label_min_size|default": [ "100%", 0 ],
          "$text_input_label_offset|default": [ 0, 0 ],
          "$text_offset|default": [ 0, 0 ],
          "controls": [
            { "$text_input_text_control@text_input_mcjava.input_text": { "shadow": true, "color": [ 0.62, 0.62, 0.62 ]} },
            {
              "visibility_panel": {
                "type": "panel",
                "controls": [
                  { "place_holder_control@$placeholder_control": { "shadow": true, "color": [ 0.62, 0.62, 0.62 ] } }
                ],
                "bindings": [
                  {
                    "binding_type": "view",
                    "source_control_name": "$text_input_text_control",
                    "source_property_name": "(#item_name = '')",
                    "target_property_name": "#visible",
                    "resolve_sibling_scope": true
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "input_label": {
    "type": "label",
    "color": [ 0.62, 0.62, 0.62 ],
    "layer": 10,
    "shadow": true,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": "$input_label_offset",
    "text": "$input_label",
    "bindings": "$label_bindings",
    "$label_bindings|default": []
  },

  "input_text": {
    "type": "label",
    "text": "#item_name",
    "localize": false,
    "enable_profanity_filter": "$enable_profanity_filter",
    "tts_name": "$text_input_tts_name",
    "color": "$text_color",
    "locked_color": "$disabled_text_color",
    "font_type": "$text_font_type",
    "font_size": "$text_font_size",
    "font_scale_factor": "$text_font_scale",
    "offset": "$text_offset",
    "anchor_from": "$text_anchor",
    "anchor_to": "$text_anchor",
    "shadow": "$text_shadow",
    "size": "$text_size",
    "text_alignment": "$text_alignment",
    "alpha": "$text_alpha",
    "locked_alpha": "$text_locked_alpha",
    "layer": "$text_layer",
    "property_bag": "$text_property_bag",
    "bindings": "$text_bindings",
    "$enable_profanity_filter|default": false,
    "$text_font_type|default": "default",
    "$text_font_size|default": "normal",
    "$text_font_scale|default": 1.0,
    "$text_offset|default": [0, 0],
    "$text_anchor|default": "left_middle",
    "$text_shadow|default": false,
    "$text_size|default": [ "default", "default" ],
    "$text_alignment|default": "left",
    "$text_alpha|default": 1.0,
    "$text_locked_alpha|default": 1.0,
    "$disabled_text_color|default": [0.5, 0.5, 0.5],
    "$text_layer|default": 8,
    "$text_input_binding_type": "global",
    "$text_input_binding_collection_name": "",
    "$text_input_tts_name|default": "accessibility.textbox.tts.title",
    "$text_input_content_binding_type|default": "global",
    "$text_input_content_binding_name|default": "#text_box_item_name",
    "$text_input_binding_condition|default": "visible",
    "$text_input_name|default": "#text_box_name",
    "$text_color_binding_name|default": "#input_text_color",
    "$text_color_binding_type|default": "none",
    "$text_property_bag|default": {
      "#property_field": "#item_name"
    },
    "$text_bindings|default": [
      {
        "binding_type": "$text_input_content_binding_type",
        "binding_condition": "$text_input_binding_condition",
        "binding_collection_name": "$text_input_grid_collection_name",
        "binding_name": "$text_input_content_binding_name",
        "binding_name_override": "#item_name"
      },
      {
        "binding_type": "$text_color_binding_type",
        "binding_name": "$text_color_binding_name",
        "binding_name_override": "#color"
      }
    ]
  },

  "input_label_shadow@input_label": {
  },

  "input_placeholder_label": {
    "type": "label",
    "text": "$placeholder_text",
    "localize": true,
    "color": "$placeholder_text_color",
    "font_type": "$placeholder_text_font_type",
    "font_size": "$placeholder_text_font_size",
    "font_scale_factor": "$placeholder_text_font_scale",
    "offset": "$placeholder_text_offset",
    "anchor_from": "$placeholder_text_anchor",
    "anchor_to": "$placeholder_text_anchor",
    "shadow": "$placeholder_text_shadow",
    "size": "$placeholder_text_size",
    "placeholder_text_alignment": "$placeholder_text_alignment",
    "alpha": "$placeholder_text_alpha",
    "locked_alpha": "$placeholder_text_locked_alpha",
    "layer": "$placeholder_text_layer",
    "property_bag": "$placeholder_text_property_bag",
    "bindings": "$placeholder_text_bindings",
    "$placeholder_text_color": [0.3, 0.3, 0.3],
    "$placeholder_text_font_type|default": "default",
    "$placeholder_text_font_size|default": "normal",
    "$placeholder_text_font_scale|default": 1.0,
    "$placeholder_text_offset|default": [0, 0],
    "$placeholder_text_anchor|default": "left_middle",
    "$placeholder_text_shadow|default": false,
    "$placeholder_text_size|default": [ "default", "default" ],
    "$placeholder_text_alignment|default": "left",
    "$placeholder_text_alpha|default": 1.0,
    "$placeholder_text_locked_alpha|default": 1.0,
    "$placeholder_text_layer|default": 8,
    "$text_input_placeholder_content_binding_type|default": "global",
    "$text_input_placeholder_content_binding_name|default": "#placeholder_box_item_name",
    "$text_input_placeholder_binding_condition|default": "visible",
    "$text_input_name|default": "#text_box_name",
    "$placeholder_text_property_bag|default": {},
    "$placeholder_text_bindings|default": [
      {
        "binding_type": "$text_input_placeholder_content_binding_type",
        "binding_condition": "$text_input_placeholder_binding_condition",
        "binding_collection_name": "$text_input_grid_collection_name",
        "binding_name": "$text_input_placeholder_content_binding_name"
      }
    ]
  },

  "box_button@button_mcjava.button": {
    "$button_text": ">",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "size": [20, 20],
    "offset": [204, -1]
  },

  "box_action_button@button_mcjava.action_button": {
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "size": [ 20, 20 ],
    "offset": [ 204, -1 ]
  },

  /* Inputs */

  "text_input@text_input_mcjava.base_text_input": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": ""
  },

  "text_input_with_label@text_input_mcjava.base_text_input_with_label": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": "",
    "$input_enabled_binding_name|default": "",
    "$input_binding_name|default": "",
    "$button": ""
  },

  "text_input_with_label_and_button@text_input_mcjava.base_text_input_with_label": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": "",
    "$input_enabled_binding_name|default": "",
    "$input_binding_name|default": "",
    "$button": "text_input_mcjava.box_button"
  },

  "text_input_with_label_and_action_button@text_input_mcjava.base_text_input_with_label": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": "",
    "$input_enabled_binding_name|default": "",
    "$input_binding_name|default": "",
    "$button": "text_input_mcjava.box_action_button"
  },

  "text_inputview_with_label@text_input_mcjava.base_text_inputview_with_label": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": "",
    "$input_enabled_binding_name|default": "",
    "$input_binding_name|default": "",
    "$button": ""
  },

  "multiline_text_input@text_input_mcjava.base_text_input": {
    "$text_input_name|default": "#text_input_name",
    "$placeholder_text|default": "",
    "enabled_newline": true,
    "max_length": 100,
    "$text_anchor": "top_left",
    "$placeholder_text_anchor": "top_left",
    "$text_offset": [1, 2],
    "$placeholder_text_offset": [1, 2],
    "$text_input_label_size": [ "100%", "100%" ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_input_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": true,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_input_selected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global",
        "consume_event": false
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$text_input_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$text_input_deselected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      },
      {
        "to_button_id": "$text_input_hovered_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "$text_input_clear_from_button_id",
        "to_button_id": "$text_input_clear_to_button_id",
        "handle_select": false,
        "handle_deselect": false,
        "mapping_type": "focused"
      }
    ]
  }
}

  /* input's */
  
  /*
  "option_text_input_view": {
    "type": "panel",
    "$option_generic_panel_size|default": [ 202, 10 ],
    "size": "$option_generic_panel_size",
    "$enabled|default": true,
    "$option_enabled_binding_name|default": "",
    "$option_place_holder_text|default": "",
    "$text_input_offset|default": [0, 0],
    "$max_text_edit_length|default": 30,
    "$option_label|default": "",
    "controls": [
      { "control@text_input_mcjava.option_text_input_controlview": {} }
    ]
  },

  "option_text_input_controlview": {
    "type": "panel",
    "size": ["100%", 10],
    "$place_holder_control": "common.text_edit_box_place_holder_label",
    "$text_edit_clipping_panel_size|default": [ "100%", "100%" ],
    "$text_offset|default": [ 0, 0 ],
    "$color|default": [ 1, 1, 1, 1 ],
    "$text_edit_box_label_size|default": [ "default", "default" ],
    "$text_edit_box_label_anchor_point|default": "right_middle",
    "$font_size": "normal",
    "$alpha|default": 1.0,
    "$place_holder_text": "$option_place_holder_text",
    "$text_edit_box_label_min_size|default": [ "100%", 0 ],
    "$text_edit_box_label_offset|default": [ 0, 0 ],
    "$text_edit_text_control|default": "display_text",
    "$text_edit_visible_binding_name|default": "#text_edit_box_visible",
    "$text_edit_visible_binding_collection_name|default": "",
    "$text_edit_visible_binding_type|default": "none",
    "$text_edit_box_text_type|default": "ExtendedASCII",
    "$text_edit_box_enabled_binding_type|default": "global",
    "$text_edit_box_grid_collection_name|default": "",
    "$deselectable_binding_type|default": "none",
    "$deselectable_binding_name|default": "#can_be_deselected",
    "$text_edit_box_focusable_binding_name|default": "#text_edit_box_focusable",
    "$text_edit_box_content_binding_name": "$option_binding_name",
    "$text_edit_box_binding_collection_name": "$option_binding_name",
    "$text_edit_box_binding_type": "global",
    "$text_box_enabled_binding_name": "$option_enabled_binding_name",
    "variables": [
      {
        "requires": "(not $option_enabled_binding_name)",
        "$text_box_enabled_binding_name": "#not_data_bound",
        "$text_edit_box_enabled_binding_type": "none"
      }
    ],
    "bindings": [
      {
        "binding_type": "$text_edit_box_enabled_binding_type",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_box_enabled_binding_name",
        "binding_name_override": "#enabled"
      },
      {
        "binding_type": "$deselectable_binding_type",
        "binding_name": "$deselectable_binding_name",
        "binding_name_override": "#can_be_deselected"
      },
      {
        "binding_type": "none",
        "binding_name": "$text_edit_box_focusable_binding_name",
        "binding_name_override": "#focus_enabled"
      },
      {
        "binding_name": "$text_edit_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_type": "$text_edit_visible_binding_type",
        "binding_collection_name": "$text_edit_visible_binding_collection_name"
      }
    ],
    "controls": [
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100% - 4px", "100%" ],
          "controls": [
            {
              "clipper_panel": {
                "type": "panel",
                "size": "$text_edit_clipping_panel_size",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "offset": "$text_offset",
                "clips_children": true,
                "$disabled_color|default": "$color",
                "controls": [
                  {
                    "$text_edit_text_control@common.text_edit_box_label": {
                      "layer": 2,
                      "color": [0.62, 0.62, 0.62],
                      "size": "$text_edit_box_label_size",
                      "offset": "$text_edit_box_label_offset",
                      "min_size": "$text_edit_box_label_min_size",
                      "anchor_from": "$text_edit_box_label_anchor_point",
                      "anchor_to": "$text_edit_box_label_anchor_point",
                      "font_size": "$font_size",
                      "$text_alpha|default": "$alpha",
                      "$locked_text_alpha|default": 1,
                      "$locked_color|default": [0.62, 0.62, 0.62]
                    }
                  },
                  {
                    "$text_edit_text_control@common.text_edit_box_label": {
                      "layer": 1,
                      "size": "$text_edit_box_label_size",
                      "offset": [1, 1],
                      "min_size": "$text_edit_box_label_min_size",
                      "anchor_from": "$text_edit_box_label_anchor_point",
                      "anchor_to": "$text_edit_box_label_anchor_point",
                      "font_size": "$font_size",
                      "color": [0.2, 0.2, 0.2],
                      "$text_alpha|default": "$alpha",
                      "$locked_text_alpha|default": 1,
                      "$locked_color|default": [0.2, 0.2, 0.2]
                    }
                  },
                  {
                    "visibility_panel": {
                      "type": "panel",
                      "controls": [
                        {
                          "place_holder_control@$place_holder_control": {
                            "layer": 2,
                            "size": "$text_edit_box_label_size",
                            "offset": "$text_edit_box_label_offset",
                            "min_size": "$text_edit_box_label_min_size",
                            "anchor_from": "$text_edit_box_label_anchor_point",
                            "anchor_to": "$text_edit_box_label_anchor_point",
                            "$text_alpha|default": "$alpha",
                            "color": [0.62, 0.62, 0.62],
                            "$locked_text_alpha|default": 1,
                            "$locked_color|default": [0.62, 0.62, 0.62]
                          }
                        },
                        {
                          "place_holder_control@$place_holder_control": {
                            "size": "$text_edit_box_label_size",
                            "offset": [1, 1],
                            "min_size": "$text_edit_box_label_min_size",
                            "anchor_from": "$text_edit_box_label_anchor_point",
                            "anchor_to": "$text_edit_box_label_anchor_point",
                            "$text_alpha|default": "$alpha",
                            "color": [0.2, 0.2, 0.2],
                            "$locked_text_alpha|default": 1,
                            "$locked_color|default": [0.2, 0.2, 0.2]
                          }
                        }
                      ],
                      "bindings": [
                        {
                          "binding_type": "view",
                          "source_control_name": "$text_edit_text_control",
                          "source_property_name": "(#item_name = '')",
                          "target_property_name": "#visible",
                          "resolve_sibling_scope": true
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  }
}
 */